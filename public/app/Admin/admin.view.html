<nav class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navBar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand title" href="#/admin">Observatorio Empresarial</a>
        </div>
        <div class="navbar-collapse collapse navBar">
            <ul class="nav navbar-nav navbar-right">
                <li><a>{{user.nombre}}</a></li>
                <li ng-class="styleEncuestas" ng-click="Nav='encuestas'; styleEncuestas='active'; stylePersonas=''; stylePreguntas='';"><a><span class="glyphicon glyphicon-list"></span>&nbsp;&nbsp;Encuestas</a></li>
                <li ng-class="stylePersonas" ng-click="Nav='personas'; styleEncuestas=''; stylePersonas='active'; stylePreguntas='';"><a><span class="glyphicon glyphicon-user"></span>&nbsp;&nbsp;Personas</a></li>
                <li ng-class="stylePreguntas" ng-click="Nav='preguntas'; styleEncuestas=''; stylePersonas=''; stylePreguntas='active';"><a><span class="fa fa-question"></span>&nbsp;&nbsp;Preguntas</a></li>
                <li class="dropdown">
                    <a href="" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-option-vertical"></span></a>
                    <ul class="dropdown-menu">
                        <li ng-click="logOut();"><a><span class="glyphicon glyphicon-log-out"></span>&nbsp;&nbsp;Log out</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>
<div class="container" ng-switch="Nav">
    <div ng-switch-when="personas">
        <div ng-include="'./app/templates/people.management.htm'"></div>
	</div>
	<div ng-switch-when="encuestas" ng-controller="EncuestasController">
        <div class="text-center margin">
            <label class="title kaushan">Gestión de encuestas</label>
        </div>
        <div class="nueva-encuesta-box" ng-show="nueva">
            <div>
                <label class="subtitle baskerville">Agregar nueva encuesta</label>
            </div>
            <form class="container margin">
                <div class="col-md-offset-2 col-md-8">
                    <div class="col-md-12">
                        <p>
                            <label for="descripcion">Descripción</label>
                            <textarea ng-model="descripcion" class="form-control" autofocus placeholder="Descripción" title="La descripción debe tener al menos 5 caracteres."></textarea>
                        </p>
                    </div>
                    <div class="col-md-12">
                        <div>
                            <div ng-show="registro" ng-class="styleRegistro">{{msgRegistro}}</div>
                        </div>
                        <center>
                            <button class="btn btn-primary margin" ng-disabled="emptyData" ng-click="agregar();"><span class="glyphicon glyphicon-floppy-disk"></span>&nbsp;&nbsp;Guardar</button>
                        </center>
                    </div>
                </div>
            </form>
        </div>
        <div class="gestion-encuestas-box">
            <div>
                <label class="subtitle baskerville">Encuestas</label>
                <button class="btn btn-default margin float-right" ng-click="mostrarFormulario();" title="{{texto}}"><span ng-class="{'glyphicon glyphicon-plus':!nueva, 'glyphicon glyphicon-minus':nueva}"></span></button>
            </div>
            <table class="table margin" ng-show="encuestas">
                <thead>
                    <tr>
                        <th>Descripción</th>
                        <th>Estado</th>
                        <th>Fecha de creación</th>
                        <th>Fecha de modificación</th>
                        <th>Creador</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="encuesta in encuestas">
                        <td>{{encuesta.descripcion}}</td>
                        <td>{{encuesta.estado | estado}}</td>
                        <td>{{encuesta.fechaCreacion}}</td>
                        <td>{{encuesta.fechaModificacion}}</td>
                        <td>{{encuesta.persona_id}}</td>
                        <td>
                            <button class="btn btn-warning" ng-click="modificar(encuesta.id);" title="Modificar encuesta"><span class="glyphicon glyphicon-edit"></span></button>
                            &nbsp;&nbsp;
                            <button class="btn btn-danger" ng-click="eliminar(encuesta.id);" title="Eliminar encuesta"><span class="glyphicon glyphicon-trash"></span></button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="info-box margin" ng-show="!encuestas">No hay encuestas registradas.</div>
        </div>
	</div>
	<div ng-switch-when="preguntas">
		<div class="text-center">
    		<label class="title kaushan">Gestión de preguntas</label>
    	</div>
		<form class="container col-md-offset-4 col-md-4">
			<div class="form-group">
				<label>Enunciado: </label>
				<textarea class="form-control" name="enunciado" id="enunciado" required autofocus placeholder="Enunciado" pattern="[0-9]{9,}" title="Por favor ingrese el enunciado de la pregunta" rows="4" cols="60"> </textarea>
			</div>
			<div class="form-group">
				<label>Tipo: </label> <br>
				<input type="radio" name="tipo" value="true"> Abierta<br>
				<input type="radio" name="tipo" value="false"> Cerrada<br>
			</div>
			<div class="form-group">
				<label>Indicador: </label>
				<input class="form-control">
			</div>
			<center>
				<button type="submit" class="btn btn-default btn-info"><span class="glyphicon glyphicon-floppy-disk"></span>&nbsp;&nbsp;Guardar</button>
			</center>
		</form>
	</div>
</div>