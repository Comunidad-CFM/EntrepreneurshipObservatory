<nav class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navBar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand title" href="#/admin">Observatorio Empresarial</a>
        </div>
        <div class="navbar-collapse collapse navBar">
            <ul class="nav navbar-nav navbar-right">
                <li><a>{{user.nombre}}</a></li>
                <li ng-class="styleEncuestas" ng-click="Nav='encuestas'; styleEncuestas='active'; stylePersonas=''; stylePreguntas='';"><a><span class="glyphicon glyphicon-list"></span>&nbsp;&nbsp;Encuestas</a></li>
                <li ng-class="stylePersonas" ng-click="Nav='personas'; styleEncuestas=''; stylePersonas='active'; stylePreguntas='';"><a><span class="glyphicon glyphicon-user"></span>&nbsp;&nbsp;Personas</a></li>
                <li ng-class="stylePreguntas" ng-click="Nav='preguntas'; styleEncuestas=''; stylePersonas=''; stylePreguntas='active';"><a><span class="fa fa-question"></span>&nbsp;&nbsp;Preguntas</a></li>
                <li class="dropdown">
                    <a href="" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-option-vertical"></span></a>
                    <ul class="dropdown-menu">
                        <li ng-click="logOut();"><a><span class="glyphicon glyphicon-log-out"></span>&nbsp;&nbsp;Log out</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>
<div class="container" ng-switch="Nav">
    <div ng-switch-when="personas" ng-controller="PersonasController">
        <div class="text-center margin">
            <label class="title kaushan">Gestión de personas</label>
        </div>
        <div class="nueva-persona-box" ng-show="nueva">
            <div>
                <label class="subtitle baskerville">Agregar nueva persona</label>
            </div>
            <form class="container margin">
                <div class="col-md-offset-2 col-md-8">
                    <div class="col-md-12">
                        <div class="col-md-6">
                            <p>
                                <label for="cedula">Cédula</label>
                                <input ng-model="cedula" class="form-control" type="text" name="cedula" id="cedula" required autofocus placeholder="Número de cédula" pattern="[0-9]{9,}" title="Número de cédula con ceros, sin espacios ni guiones.">
                            </p>
                        </div>
                        <div class="col-md-6">
                            <p>
                                <label for="nombre">Nombre</label>
                                <input ng-model="nombre" class="form-control" type="text" name="nombre" id="name" required placeholder="Nombre" pattern="[a-zA-Z]{3,}" title="Por favor ingrese más de dos letras.">
                            </p>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="col-md-6">
                            <p>
                                <label for="email">Email</label>
                                <input ng-model="email" class="form-control" type="text" name="email" id="email" required  placeholder="Email" title="Por favor ingrese un email valido.">
                            </p>
                        </div>
                        <div class="col-md-6">
                            <p>
                                <label for="apellido1">Primer Apellido</label>
                                <input ng-model="apellido1" class="form-control" type="text" name="apellido1" id="apellido1" required placeholder="Primer Apellido" pattern="[a-zA-Z]{3,}" title="Por favor ingrese más de dos letras.">
                            </p>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="col-md-6">
                            <p>
                                <label for="name">Contraseña</label>
                                <input ng-model="pass" class="form-control" type="password" name="pass" id="pass" required  placeholder="Contraseña" pattern="[a-zA-Z0-9._%+-]{3,}" title="Por favor ingrese más de dos caracteres.">
                            </p>
                        </div>
                        <div class="col-md-6">
                            <p>
                                <label for="apellido2">Segundo Apellido</label>
                                <input ng-model="apellido2" class="form-control" type="text" name="apellido2" id="apellido2" required placeholder="Segundo Apellido" pattern="[a-zA-Z]{3,}" title="Por favor ingrese más de dos letras.">
                            </p>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="col-md-6">
                            <p>
                                <label for="name">Confirmar Contraseña</label>
                                <input ng-model="passConf" class="form-control" type="password" name="passConf" id="passConf" required  placeholder="Confirmar Contraseña" pattern="[a-zA-Z0-9._%+-]{3,}" title="Por favor ingrese más de dos letras.">
                            </p>
                        </div>
                        <div class="col-md-6">
                            <p>
                                <label for="name">Tipo de usuario</label>
                                <select ng-model="tipo" class="form-control">
                                    <option value="A">Administrador</option>
                                    <option value="B">Empresario</option>
                                    <option value="E">Encuestador</option>
                                </select>
                            </p>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="col-md-12">
                            <div ng-show="registro" ng-class="styleRegistro">{{msgRegistro}}</div>
                        </div>
                        <center>
                            <button class="btn btn-primary margin" ng-disabled="errorPass" ng-click="store();"><span class="glyphicon glyphicon-floppy-disk"></span>&nbsp;&nbsp;Guardar</button>
                        </center>
                    </div>
                </div>
            </form>
        </div>
        <div class="gestion-personas-box">
            <div>
                <label class="subtitle baskerville">Personas</label>
                <button class="btn btn-default margin float-right" ng-click="mostrarFormulario();" title="{{texto}}"><span ng-class="{'glyphicon glyphicon-plus':!nueva, 'glyphicon glyphicon-minus':nueva}"></span></button>
            </div>
            <table class="table margin" ng-show="personas">
                <thead>
                    <tr>
                        <th>Cédula</th>
                        <th>Nombre</th>
                        <th>Email</th>
                        <th>Tipo</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="persona in personas">
                        <td>{{persona.cedula}}</td>
                        <td>{{persona.nombre}} {{persona.apellido1}} {{persona.apellido2}}</td>
                        <td>{{persona.email}}</td>
                        <td>{{persona.tipo | user}}</td>
                        <td>
                            <button class="btn btn-warning" ng-click="modificar(persona.id);" title="Modificar usuario"><span class="glyphicon glyphicon-edit"></span></button>
                            &nbsp;&nbsp;
                            <button class="btn btn-danger" ng-click="eliminar(persona.id);" title="Eliminar usuario"><span class="glyphicon glyphicon-trash"></span></button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="info-box margin" ng-show="!personas">No hay usuarios registrados.</div>
        </div>
	</div>
	<div ng-switch-when="encuestas" ng-controller="EncuestasController">
        <div class="text-center margin">
            <label class="title kaushan">Gestión de encuestas</label>
        </div>
        <div class="nueva-encuesta-box" ng-show="nueva">
            <div>
                <label class="subtitle baskerville">Agregar nueva encuesta</label>
            </div>
            <form class="container margin">
                <div class="col-md-offset-2 col-md-8">
                    <div class="col-md-12">
                        <p>
                            <label for="descripcion">Descripción</label>
                            <textarea ng-model="descripcion" class="form-control" autofocus placeholder="Descripción" title="La descripción debe tener al menos 5 caracteres."></textarea>
                        </p>
                    </div>
                    <div class="col-md-12">
                        <div>
                            <div ng-show="registro" ng-class="styleRegistro">{{msgRegistro}}</div>
                        </div>
                        <center>
                            <button class="btn btn-primary margin" ng-disabled="emptyData" ng-click="agregar();"><span class="glyphicon glyphicon-floppy-disk"></span>&nbsp;&nbsp;Guardar</button>
                        </center>
                    </div>
                </div>
            </form>
        </div>
        <div class="gestion-encuestas-box">
            <div>
                <label class="subtitle baskerville">Encuestas</label>
                <button class="btn btn-default margin float-right" ng-click="mostrarFormulario();" title="{{texto}}"><span ng-class="{'glyphicon glyphicon-plus':!nueva, 'glyphicon glyphicon-minus':nueva}"></span></button>
            </div>
            <table class="table margin" ng-show="encuestas">
                <thead>
                    <tr>
                        <th>Descripción</th>
                        <th>Estado</th>
                        <th>Fecha de creación</th>
                        <th>Fecha de modificación</th>
                        <th>Creador</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="encuesta in encuestas">
                        <td>{{encuesta.descripcion}}</td>
                        <td>{{encuesta.estado | estado}}</td>
                        <td>{{encuesta.fechaCreacion}}</td>
                        <td>{{encuesta.fechaModificacion}}</td>
                        <td>{{encuesta.persona_id}}</td>
                        <td>
                            <button class="btn btn-warning" ng-click="modificar(encuesta.id);" title="Modificar encuesta"><span class="glyphicon glyphicon-edit"></span></button>
                            &nbsp;&nbsp;
                            <button class="btn btn-danger" ng-click="eliminar(encuesta.id);" title="Eliminar encuesta"><span class="glyphicon glyphicon-trash"></span></button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="info-box margin" ng-show="!encuestas">No hay encuestas registradas.</div>
        </div>
	</div>
    <div ng-switch-when="preguntas" ng-controller="PreguntaController">
        <div class="text-center">
            <label class="title kaushan">Gestión de preguntas</label>
        </div>
        <div class="nueva-persona-box" ng-show="nueva">
            <div>
                <label class="subtitle baskerville">Agregar pregunta</label>
            </div>

            <form class="container margin">
                <div class="col-md-offset-2 col-md-8">
                    <div class="col-md-12">
                        <p>
                            <label>Enunciado: </label>
                            <textarea ng-model="enunciado" class="form-control" name="enunciado" id="enunciado" required autofocus placeholder="Enunciado" title="Por favor ingrese el enunciado de la pregunta" rows="4" cols="60"></textarea>
                        </p>
                    </div>

                    <div class="col-md-12">
                        <p>
                            <label>Tipo: </label> <br>
                            <input ng-model="tipo" type="radio" name="tipo" value="true"> Abierta<br>
                            <input ng-model="tipo" type="radio" name="tipo" value="false"> Cerrada<br>
                        </p>
                    </div>

                    <div class="col-md-12">
                        <p>
                            <label class="">Indicador: </label>
                            <select ng-model="indicador_id" class="form-control">
                                <option ng-repeat="indicador in indicadores" value="{{indicador.id}}">{{indicador.nombre}}</option>
                            </select>
                        </p>
                    </div>

                    <div class="col-md-12">
                        <div>
                            <div ng-show="registro" ng-class="styleRegistro">{{msgRegistro}}</div>
                        </div>
                        <center>
                            <button ng-click="store1();" class="btn btn-primary margin"><span class="glyphicon glyphicon-floppy-disk"></span>&nbsp;&nbsp;Guardar</button>
                        </center>
                    </div>
                </div>
            </form>
        </div>
        <div class="gestion-personas-box">
            <div>
                <label class="subtitle baskerville">Preguntas</label>
                <button class="btn btn-default margin float-right" ng-click="mostrarFormulario();" title="{{texto}}"><span ng-class="{'glyphicon glyphicon-plus':!nueva, 'glyphicon glyphicon-minus':nueva}"></span></button>
            </div>
            <table class="table margin" ng-show="preguntas">
                <thead>
                <tr>
                    <th>Enunciado</th>
                    <th>Tipo</th>
                    <th>Indicador</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="pregunta in preguntas">
                    <td>{{pregunta.enunciado}}</td>
                    <td>{{pregunta.tipo}}</td>
                    <td>{{pregunta.indicador_id}}</td>
                    <td>
                        <button class="btn btn-warning" ng-click="modificar(pregunta);" title="Modificar pregunta"><span class="glyphicon glyphicon-edit"></span></button>
                        &nbsp;&nbsp;
                        <button class="btn btn-danger" ng-click="eliminar(pregunta.id);" title="Eliminar pregunta"><span class="glyphicon glyphicon-trash"></span></button>
                    </td>
                </tr>
                </tbody>
            </table>
            <div class="info-box margin" ng-show="!preguntas">No se han agregado preguntas.</div>
        </div>
    </div>
    <!--div ng-switch-when="preguntas" ng-controller="PreguntaController">
    <div class="text-center">
        <label class="title kaushan">Gestión de preguntas</label>
    </div>
    <form class="container col-md-offset-4 col-md-4">
        <div class="form-group">
            <label>Enunciado: </label>
            <textarea ng-model="enunciado" class="form-control" name="enunciado" id="enunciado" required autofocus placeholder="Enunciado" title="Por favor ingrese el enunciado de la pregunta" rows="4" cols="60"></textarea>
        </div>
        <div class="form-group">
            <label>Tipo: </label> <br>
            <input ng-model="tipo" type="radio" name="tipo" value="true"> Abierta<br>
            <input ng-model="tipo" type="radio" name="tipo" value="false"> Cerrada<br>
        </div>
        <div class="form-group">
            <label class="">Indicador: </label>
            <select ng-model="indicador_id" class="form-control">
                <option ng-repeat="indicador in indicadores" value="{{indicador.id}}">{{indicador.nombre}}</option>
            </select>
        </div>
        <div>
            <div ng-show="registro" ng-class="styleRegistro">{{msgRegistro}}</div>
        </div>
        <center>
            <button ng-click="store();" class="btn btn-primary margin"><span class="glyphicon glyphicon-floppy-disk"></span>&nbsp;&nbsp;Guardar</button>
        </center>
    </form>
</div-->
</div>